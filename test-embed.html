<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YourSizer Widget Test - Script Tag Integration</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .product-page {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .product-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: start;
        }
        
        .product-image {
            width: 100%;
            height: 400px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
        }
        
        .product-info h1 {
            margin: 0 0 10px 0;
            font-size: 32px;
            color: #333;
        }
        
        .product-price {
            font-size: 24px;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 20px;
        }
        
        .product-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 30px;
        }
        
        .size-section {
            margin-bottom: 30px;
        }
        
        .size-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .size-button {
            padding: 12px 20px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .size-button:hover {
            border-color: #3498db;
        }
        
        .size-button.selected {
            border-color: #3498db;
            background: #3498db;
            color: white;
        }
        
        .yoursizer-section {
            border: 2px dashed #3498db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            background: #f8f9ff;
        }
        
        .yoursizer-section h3 {
            margin: 0 0 15px 0;
            color: #3498db;
            font-size: 18px;
        }
        
        .add-to-cart {
            width: 100%;
            padding: 15px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .add-to-cart:hover {
            background: #229954;
        }
        
        .add-to-cart:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }
        
        .demo-info {
            background: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .demo-info h2 {
            margin: 0 0 15px 0;
            color: #0c5460;
        }
        
        .demo-info p {
            margin: 0 0 10px 0;
            color: #0c5460;
        }
        
        .code-example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 20px 0;
        }
        
        @media (max-width: 768px) {
            .product-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .product-image {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="demo-info">
        <h2>ðŸŽ¯ YourSizer Widget - Script Tag Integration Test</h2>
        <p><strong>This page demonstrates how to embed YourSizer widget using a simple script tag.</strong></p>
        <p>The widget below is loaded via script tag and can be customized with data attributes.</p>
    </div>

    <div class="product-page">
        <div class="product-grid">
            <div class="product-image">
                T-Shirt Image
            </div>
            
            <div class="product-info">
                <h1>Premium Cotton T-Shirt</h1>
                <div class="product-price">$29.99</div>
                
                <div class="product-description">
                    High-quality cotton t-shirt with a comfortable fit. Perfect for everyday wear and casual occasions.
                </div>
                
                <div class="size-section">
                    <h3>Size</h3>
                    <div class="size-buttons">
                        <button class="size-button" data-size="XS">XS</button>
                        <button class="size-button" data-size="S">S</button>
                        <button class="size-button" data-size="M">M</button>
                        <button class="size-button" data-size="L">L</button>
                        <button class="size-button" data-size="XL">XL</button>
                        <button class="size-button" data-size="XXL">XXL</button>
                    </div>
                    <div id="size-recommendation" style="display: none; color: #27ae60; font-weight: bold; margin-top: 10px;">
                        âœ… Recommended size: <span id="recommended-size"></span>
                    </div>
                </div>
                
                <!-- YourSizer Widget Integration -->
                <div class="yoursizer-section">
                    <h3>ðŸ¤– AI Size Recommendation</h3>
                    <div 
                        data-yoursizer
                        data-product-id="premium-tshirt-001"
                        data-brand-id="demo-brand"
                        data-clothing-type="tshirt"
                        data-license-key="demo-license-key"
                        data-button-text="Find My Perfect Size"
                        data-position="center"
                        data-class-name="w-full"
                    ></div>
                </div>
                
                <button class="add-to-cart" id="add-to-cart-btn" disabled>
                    Select Size First
                </button>
            </div>
        </div>
    </div>

    <div class="demo-info">
        <h2>ðŸ“‹ Integration Code Example</h2>
        <p>Here's how to integrate YourSizer into any HTML page:</p>
        
        <div class="code-example">
&lt;!-- 1. Include React and ReactDOM (required) --&gt;
&lt;script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"&gt;&lt;/script&gt;
&lt;script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"&gt;&lt;/script&gt;

&lt;!-- 2. Include YourSizer Widget --&gt;
&lt;script src="https://cdn.yoursizer.com/yoursizer-widget.umd.js"&gt;&lt;/script&gt;

&lt;!-- 3. Add widget container with data attributes --&gt;
&lt;div 
    data-yoursizer
    data-product-id="your-product-id"
    data-brand-id="your-brand-id"
    data-clothing-type="tshirt"
    data-license-key="your-license-key"
    data-button-text="Find My Size"
    data-position="center"
&gt;&lt;/div&gt;

&lt;!-- 4. Optional: Initialize manually --&gt;
&lt;script&gt;
    YourSizer.init({
        merchantId: 'your-merchant-id',
        onSizeRecommended: function(size) {
            console.log('Recommended size:', size);
            // Handle size recommendation
        }
    });
&lt;/script&gt;
        </div>
    </div>

    <!-- Include React and ReactDOM (required for UMD build) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Include YourSizer Widget (this will be your built UMD file) -->
    <script src="./dist/yoursizer-widget.umd.js"></script>
    
    <script>
        // Handle size selection
        let selectedSize = null;
        
        document.querySelectorAll('.size-button').forEach(button => {
            button.addEventListener('click', function() {
                // Remove selected class from all buttons
                document.querySelectorAll('.size-button').forEach(btn => btn.classList.remove('selected'));
                
                // Add selected class to clicked button
                this.classList.add('selected');
                
                // Update selected size
                selectedSize = this.dataset.size;
                
                // Update add to cart button
                const addToCartBtn = document.getElementById('add-to-cart-btn');
                addToCartBtn.textContent = `Add to Cart - Size ${selectedSize}`;
                addToCartBtn.disabled = false;
            });
        });
        
        // Handle YourSizer size recommendation
        window.YourSizer.init({
            merchantId: 'demo-merchant',
            onSizeRecommended: function(size) {
                console.log('ðŸŽ¯ YourSizer recommended size:', size);
                
                // Update UI
                selectedSize = size;
                document.getElementById('recommended-size').textContent = size;
                document.getElementById('size-recommendation').style.display = 'block';
                
                // Select the recommended size button
                document.querySelectorAll('.size-button').forEach(btn => {
                    btn.classList.remove('selected');
                    if (btn.dataset.size === size) {
                        btn.classList.add('selected');
                    }
                });
                
                // Update add to cart button
                const addToCartBtn = document.getElementById('add-to-cart-btn');
                addToCartBtn.textContent = `Add to Cart - Size ${size}`;
                addToCartBtn.disabled = false;
            }
        });
        
        // Handle add to cart
        document.getElementById('add-to-cart-btn').addEventListener('click', function() {
            if (selectedSize) {
                alert(`Added to cart: Premium Cotton T-Shirt - Size ${selectedSize}`);
            }
        });
        
        // Log YourSizer version
        console.log('ðŸš€ YourSizer version:', window.YourSizer.version);
    </script>
</body>
</html>
